<!-- BURGER MENU -->
<input class="menu-btn" type="checkbox" id="menu-btn" onclick="headerToggleMenu()">
<label class="menu-icon" id="menu-icon" for="menu-btn"><span class="nav-icon"></span></label>

<div class="header-inner">
  <!-- LOGO -->
  <a href="../../index.html">
    <img class="logo" id="logo" alt="logo" src="../../images/argo-logo/Argo-white.svg">
  </a>

  <div class="menu-container" id="menu-container">
    <!-- MENU -->
    <ul class="menu">
      <li><a class="upgrade-now" href="../upgrade/index.html">Upgrade now</a></li>
      <li><a class="whats-new" href="../whats-new/index.html">What's new</a></li>
      <li><a class="about-us" href="../about-us/index.html">About us</a></li>
      <li><a class="documentation" href="../documentation/index.html">Documentation</a></li>
      <li><a class="contact-us" href="../contact-us/index.html">Contact us</a></li>
    </ul>
  </div>
</div>

<div id="menu" class="hamburger-nav-menu">
  <ul>
    <li><a href="../upgrade/index.html">Upgrade now</a></li>
    <li><a href="../whats-new/index.html">What's new</a></li>
    <li><a href="../about-us/index.html">About us</a></li>
    <li><a href="../documentation/index.html">Documentation</a></li>
    <li><a href="../contact-us/index.html">Contact Us</a></li>
  </ul>
</div>

<script>
  const menu = document.getElementById('menu');
  const menuHeight = menu.scrollHeight;
  const header = document.querySelector('header');
  const menuBtn = document.getElementById('menu-btn');
  const menuIcon = document.getElementById('menu-icon');
  let lastScroll = 0;

  function headerToggleMenu() {
    if (!menu.classList.contains('active')) {
      // Opening the menu
      menu.classList.add('active');
      menu.style.height = menuHeight + 'px';
      document.body.classList.add('menu-open');
    } else {
      // Closing the menu
      menu.classList.remove('active');
      menu.style.height = '0';
      document.body.classList.remove('menu-open');
    }
  }

  // Sticky header functionality
  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;

    // Add sticky class only after scrolling past header height
    if (currentScroll > header.offsetHeight) {
      header.classList.add('sticky');

      // Show header when scrolling up, hide when scrolling down
      if (currentScroll < lastScroll) {
        header.classList.add('show');
      } else {
        header.classList.remove('show');
      }
    } else {
      header.classList.remove('sticky', 'show');
    }

    lastScroll = currentScroll;
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    // Don't close if clicking header
    if (menuIcon.contains(e.target)) {
      return;
    }

    // Close only if menu is active and click is outside
    if (menu.classList.contains('active') && !header.contains(e.target)) {
      menuBtn.checked = false;
      headerToggleMenu();
    }
  });
</script>